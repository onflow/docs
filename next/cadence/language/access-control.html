<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-cadence/language/access-control">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Access control | Flow Developer Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://onflow.github.io/docs/img/FlowDocs_Logo_FlowLogo_Horizontal_Green_BlackText.svg"><meta data-rh="true" name="twitter:image" content="https://onflow.github.io/docs/img/FlowDocs_Logo_FlowLogo_Horizontal_Green_BlackText.svg"><meta data-rh="true" property="og:url" content="https://onflow.github.io/docs/next/cadence/language/access-control"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Access control | Flow Developer Portal"><meta data-rh="true" name="description" content="Access control allows making certain parts of the program accessible/visible"><meta data-rh="true" property="og:description" content="Access control allows making certain parts of the program accessible/visible"><link data-rh="true" rel="icon" href="/docs/favicon.ico"><link data-rh="true" rel="canonical" href="https://onflow.github.io/docs/next/cadence/language/access-control"><link data-rh="true" rel="alternate" href="https://onflow.github.io/docs/next/cadence/language/access-control" hreflang="en"><link data-rh="true" rel="alternate" href="https://onflow.github.io/docs/next/cadence/language/access-control" hreflang="x-default"><link rel="search" type="application/opensearchdescription+xml" title="Flow Developer Portal" href="/docs/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/mixpanel.js" async onload="if (&#39;776159d170484f49f19c3c2f7339f297&#39; &amp;&amp; &#39;776159d170484f49f19c3c2f7339f297&#39; !== &#39;undefined&#39;) {
  window.mixpanel.init(&#39;776159d170484f49f19c3c2f7339f297&#39;);

  const viwedPayload = {
    &#39;Page Name&#39;: document.title,
    &#39;Page URL&#39;: window.location.pathname,
  }
  window.mixpanel.track(&#39;Page Viewed&#39;, viwedPayload);

  const playUrl = &#39;play.onflow.org&#39;;
  const links = document.querySelectorAll(&#39;a&#39;) || [];
  const isPlayPage = Array.from(links).some((link) =&gt; link.href.includes(playUrl));

  if (isPlayPage) {
    window.mixpanel.track(&#39;Play Page Viewed&#39;, viwedPayload);
  }
  
  window.document.addEventListener(&#39;click&#39;, function (event) {
    var target = event.target;
  
    // Check if the clicked element is a link with an href attribute
    if (target.tagName === &#39;A&#39; &amp;&amp; target.hasAttribute(&#39;href&#39;)) {
      if (window.mixpanel) {
        const payload = {
          href: target.getAttribute(&#39;href&#39;),
          id: target.id,
          class: target.className,
        }
        window.mixpanel.track(&#39;Link clicked&#39;, payload);
        const isPlay = payload.href.includes(&#39;play.onflow.org&#39;);
        if (isPlay) {
          window.mixpanel.track(&#39;Play Link clicked&#39;, payload);        
        }
      }
    }
  });
}"></script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="0f0b3ed1-7761-4986-851e-09336ea6ef1c" data-project-name="Flow" data-project-color="#2E8555" data-project-logo="https://cryptologos.cc/logos/flow-flow-logo.png" async></script>
<script src="/hotjar.js" async></script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="0f0b3ed1-7761-4986-851e-09336ea6ef1c" data-project-name="Flow" data-project-color="#2E8555" data-project-logo="https://cryptologos.cc/logos/flow-flow-logo.png" async></script><link rel="stylesheet" href="/docs/assets/css/styles.115fa643.css">
<link rel="preload" href="/docs/assets/js/runtime~main.d68ddd12.js" as="script">
<link rel="preload" href="/docs/assets/js/main.2dbb1cbb.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/flow-docs-logo-dark.png" alt="Flow Developer Portal Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/flow-docs-logo-light.png" alt="Flow Developer Portal Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/concepts/intro">Concepts</a><a class="navbar__item navbar__link" href="/docs/next/guides">Guides</a><a class="navbar__item navbar__link" href="/docs/cadence/intro">Cadence</a><a class="navbar__item navbar__link" href="/docs/next/tools">Tools</a><a class="navbar__item navbar__link" href="/docs/next/references">References</a><a class="navbar__item navbar__link" href="/docs/next/community-resources">Resources</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/next/concepts/start-here">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/cadence/language/access-control">Next</a></li><li><a class="dropdown__link" href="/docs/cadence/language/access-control">Current</a></li></ul></div><a href="https://github.com/onflow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link h-8 desktop:p-1"><img src="" alt="GitHub" id="navbar-github" class="box-content h-32 w-32"><span class="p-2 desktop:hidden">Github</span></a><a href="https://onflow.org/discord" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link h-8 desktop:p-1"><img src="" alt="Discord" id="navbar-discord" class="box-content h-32 w-32"><span class="p-2 desktop:hidden">Discord</span></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/why">Why Use Cadence?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/cadence/tutorial/first-steps">Tutorial</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/next/cadence/language">Language Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;Language Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/syntax">Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/constants-and-variables">Constants and Variable Declarations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/type-annotations">Type Annotations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/values-and-types">Values and Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/operators">Operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/functions">Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/control-flow">Control Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/scope">Scope</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/type-safety">Type Safety</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/type-inference">Type Inference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/composite-types">Composite Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/resources">Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/cadence/language/access-control">Access control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/interfaces">Interfaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/enumerations">Enumerations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/intersection-types">Intersection Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/restricted-types">Restricted Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/references">References</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/imports">Imports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/accounts">Accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/capability-based-access-control">Capability-based Access Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/attachments">Attachments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/contracts">Contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/contract-updatability">Contract Updatability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/events">Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/core-events">Core Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/transactions">Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/run-time-types">Run-time Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/built-in-functions">Built-in Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/environment-information">Environment Information</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/crypto">Crypto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/type-hierarchy">Type Hierarchy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/language/glossary">Glossary</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/design-patterns">Design Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/anti-patterns">Anti-Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/security-best-practices">Security Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/solidity-to-cadence">Guide for Solidity Developers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/contract-upgrades">Contract Upgrades with Incompatible Changes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/json-cadence-spec">JSON-Cadence format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/measuring-time">Measuring Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/project-development-tips">Development Standards</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/testing-framework">Testing</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Flow Developer Portal<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/cadence/language/access-control">latest version</a></b> (<!-- -->Current<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/next/cadence/language"><span itemprop="name">Language Reference</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Access control</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Access control</h1></header><p>Access control allows making certain parts of the program accessible/visible
and making other parts inaccessible/invisible.</p>
<p>In Flow and Cadence, there are two types of access control:</p>
<ol>
<li>
<p>Access control on objects in account storage using capability security.</p>
<p>Within Flow, a caller is not able to access an object
unless it owns the object or has a specific reference to that object.
This means that nothing is truly public by default.
Other accounts can not read or write the objects in an account
unless the owner of the account has granted them access
by providing references to the objects.</p>
</li>
<li>
<p>Access control within contracts and objects
using <code>access</code> keywords.</p>
<p>For the explanations of the following keywords, we assume that
the defining type is either a contract, where capability security
doesn&#x27;t apply, or that the caller would have valid access to the object
governed by capability security.</p>
</li>
</ol>
<p>The high-level reference-based security (point 1 above)
will be covered in a later section.</p>
<p>Top-level declarations
(variables, constants, functions, structures, resources, interfaces)
and fields (in structures, and resources) are always only able to be written
to and mutated (modified, such as by indexed assignment or methods like <code>append</code>)
in the scope where it is defined (self).</p>
<p>There are five levels of access control defined in the code that specify where
a declaration can be accessed or called.</p>
<ul>
<li>
<p>Public or <strong>access(all)</strong> means the declaration
is accessible/visible in all scopes.</p>
<p>This includes the current scope, inner scopes, and the outer scopes.</p>
<p>For example, a public field in a type can be accessed using the access syntax
on an instance of the type in an outer scope.
This does not allow the declaration to be publicly writable though.</p>
<p>An element is made publicly accessible / by any code
by using the <code>access(all)</code> keyword.</p>
</li>
<li>
<p>Entitled access means the declaration is only accessible/visible
to the owner of the object, or to references that are authorized to the required entitlements.</p>
<p>A reference is considered authorized to an entitlement if that entitlement appears in the <code>auth</code> portion of the reference type.</p>
<p>For example, an <code>access(E, F)</code> field on a resource <code>R</code> can only be accessed by an owned (<code>@R</code>-typed) value,
or a reference to <code>R</code> that is authorized to the <code>E</code> and <code>F</code> entitlements (<code>auth(E, F) &amp;R</code>).</p>
<p>An element is made accessible by code in the same containing type
by using the <code>access(E)</code> syntax, described in more detail in the entitlements section below.</p>
</li>
<li>
<p><strong>access(account)</strong> means the declaration is only accessible/visible in the
scope of the entire account where it is defined. This means that
other contracts in the account are able to access it,</p>
<p>An element is made accessible by code in the same account (e.g. other contracts)
by using the <code>access(account)</code> keyword.</p>
</li>
<li>
<p><strong>access(contract)</strong> means the declaration is only accessible/visible in the
scope of the contract that defined it. This means that other types
and functions that are defined in the same contract can access it,
but not other contracts in the same account.</p>
<p>An element is made accessible by code in the same contract
by using the <code>access(contract)</code> keyword.</p>
</li>
<li>
<p>Private or <strong>access(self)</strong> means the declaration is only accessible/visible
in the current and inner scopes.</p>
<p>For example, an <code>access(self)</code> field can only be
accessed by functions of the type is part of,
not by code in an outer scope.</p>
<p>An element is made accessible by code in the same containing type
by using the <code>access(self)</code> keyword.</p>
</li>
</ul>
<p><strong>Access level must be specified for each declaration</strong></p>
<p>To summarize the behavior for variable declarations, constant declarations, and fields:</p>
<table><thead><tr><th align="left">Declaration kind</th><th align="left">Access modifier</th><th align="left">Read scope</th><th align="left">Write scope</th><th align="left">Mutate scope</th></tr></thead><tbody><tr><td align="left"><code>let</code></td><td align="left"><code>access(self)</code></td><td align="left">Current and inner</td><td align="left"><em>None</em></td><td align="left">Current and inner</td></tr><tr><td align="left"><code>let</code></td><td align="left"><code>access(contract)</code></td><td align="left">Current, inner, and containing contract</td><td align="left"><em>None</em></td><td align="left">Current and inner</td></tr><tr><td align="left"><code>let</code></td><td align="left"><code>access(account)</code></td><td align="left">Current, inner, and other contracts in same account</td><td align="left"><em>None</em></td><td align="left">Current and inner</td></tr><tr><td align="left"><code>let</code></td><td align="left"><code>access(all)</code></td><td align="left"><strong>All</strong></td><td align="left"><em>None</em></td><td align="left">Current and inner</td></tr><tr><td align="left"><code>let</code></td><td align="left"><code>access(E)</code></td><td align="left"><strong>All</strong> with required entitlements</td><td align="left"><em>None</em></td><td align="left">Current and inner</td></tr><tr><td align="left"><code>var</code></td><td align="left"><code>access(self)</code></td><td align="left">Current and inner</td><td align="left">Current and inner</td><td align="left">Current and inner</td></tr><tr><td align="left"><code>var</code></td><td align="left"><code>access(contract)</code></td><td align="left">Current, inner, and containing contract</td><td align="left">Current and inner</td><td align="left">Current and inner</td></tr><tr><td align="left"><code>var</code></td><td align="left"><code>access(account)</code></td><td align="left">Current, inner, and other contracts in same account</td><td align="left">Current and inner</td><td align="left">Current and inner</td></tr><tr><td align="left"><code>var</code></td><td align="left"><code>access(all)</code></td><td align="left"><strong>All</strong></td><td align="left">Current and inner</td><td align="left">Current and inner</td></tr><tr><td align="left"><code>var</code></td><td align="left"><code>access(E)</code></td><td align="left"><strong>All</strong> with required entitlements</td><td align="left">Current and inner</td><td align="left">Current and inner</td></tr></tbody></table>
<p>To summarize the behavior for functions:</p>
<table><thead><tr><th align="left">Access modifier</th><th align="left">Access scope</th></tr></thead><tbody><tr><td align="left"><code>access(self)</code></td><td align="left">Current and inner</td></tr><tr><td align="left"><code>access(contract)</code></td><td align="left">Current, inner, and containing contract</td></tr><tr><td align="left"><code>access(account)</code></td><td align="left">Current, inner, and other contracts in same account</td></tr><tr><td align="left"><code>access(all)</code></td><td align="left"><strong>All</strong></td></tr><tr><td align="left"><code>access(E)</code></td><td align="left"><strong>All</strong> with required entitlements</td></tr></tbody></table>
<p>Declarations of structures, resources, events, and <a href="/docs/next/cadence/language/contracts">contracts</a> can only be public.
However, even though the declarations/types are publicly visible,
resources can only be created from inside the contract they are declared in.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Declare a private constant, inaccessible/invisible in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>access(self) let a = 1</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Declare a public constant, accessible/visible in all scopes.</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>access(all) let b = 2</span></div></div><br></code></div></div>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Declare a public struct, accessible/visible in all scopes.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>access(all) struct SomeStruct {</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // Declare a private constant field which is only readable</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // in the current and inner scopes.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    access(self) let a: Int</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // Declare a public constant field which is readable in all scopes.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    access(all) let b: Int</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // Declare a private variable field which is only readable</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // and writable in the current and inner scopes.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    access(self) var c: Int</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // Declare a public variable field which is not settable,</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // so it is only writable in the current and inner scopes,</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // and readable in all scopes.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    access(all) var d: Int</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // Arrays and dictionaries declared without (set) cannot be</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // mutated in external scopes</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    access(all) let arr: [Int]</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // The initializer is omitted for brevity.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // Declare a private function which is only callable</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // in the current and inner scopes.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    access(self) fun privateTest() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>        // ...</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // Declare a public function which is callable in all scopes.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun publicTest() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>        // ...</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>    // The initializer is omitted for brevity.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>let some = SomeStruct()</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Invalid: cannot read private constant field in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.a</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Invalid: cannot set private constant field in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.a = 1</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Valid: can read public constant field in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.b</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Invalid: cannot set public constant field in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.b = 2</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Invalid: cannot read private variable field in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.c</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Invalid: cannot set private variable field in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.c = 3</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Valid: can read public variable field in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.d</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Invalid: cannot set public variable field in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.d = 4</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Invalid: cannot mutate a public field in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.f.append(0)</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Invalid: cannot mutate a public field in outer scope.</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.f[3] = 1</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>// Valid: can call non-mutating methods on a public field in outer scope</span></div></div><div><span class="ch-code-line-number">_<!-- -->91</span><div style="display:inline-block;margin-left:16px"><span>some.f.contains(0)</span></div></div><br></code></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="entitlements">Entitlements<a href="#entitlements" class="hash-link" aria-label="Direct link to Entitlements" title="Direct link to Entitlements">â€‹</a></h2>
<p>Entitlements provide granular access control to each member of a composite.
Entitlements can be declared using the following syntax:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>entitlement E</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>entitlement F</span></div></div><br></code></div></div>
<p>creates two entitlements called <code>E</code> and <code>F</code>.</p>
<p>Entitlements can be imported from other contracts and used the same way as other types.
If using entitlements defined in another contract, the same qualified name syntax is used as for other types:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>contract C {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  entitlement E</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>Outside of <code>C</code>, <code>E</code> is used with <code>C.E</code> syntax.
Entitlements exist in the same namespace as types, so if your contract defines a resource called <code>R</code>,
it will not be possible to define an entitlement that is also called <code>R</code>.</p>
<p>Entitlements can be used in access modifiers on struct and resource members to specify which references to those composites
are allowed to access those members.
An access modifier can include more than one entitlement, joined with either an <code>|</code>, to indicate disjunction or &quot;or&quot;,
or a <code>,</code>, to indicate conjunction or &quot;and&quot;. So, for example:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>access(all) resource SomeResource {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  </span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  // requires an `E` entitlement to read this field</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  access(E) let a: Int</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  // requires either an `E` or an `F` entitlement to read this field</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  access(E | F) let b: Int</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>   // requires both an `E` and an `F` entitlement to read this field</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  access(E, F) let b: Int</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  // intializers omitted for brevity</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  // ...</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>Given some values with the annotated types (details on how to create entitled references can be found <a href="/docs/next/cadence/language/references">here</a>):</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>let r: @SomeResource = // ...</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>let refE: auth(E) &amp;SomeResource = // ...</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>let refF: auth(F) &amp;SomeResource = // ...</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>let refEF: auth(E, F) &amp;SomeResource = // ...</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// valid, because `r` is owned and thus is &quot;fully entitled&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>r.a</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// valid, because `r` is owned and thus is &quot;fully entitled&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>r.b</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// valid, because `r` is owned and thus is &quot;fully entitled&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>r.c</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// valid, because `refE` has an `E` entitlement as required</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>refE.a</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// valid, because `refE` has one of the two required entitlements</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>refE.b</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// invalid, because `refE` only has one of the two required entitlements</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>refE.c</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// invalid, because `refF` has an `E` entitlement, not an `F`</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>refF.a</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// valid, because `refF` has one of the two required entitlements</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>refF.b</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// invalid, because `refF` only has one of the two required entitlements</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>refF.c</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// valid, because `refEF` has an `E` entitlement</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>refEF.a</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// valid, because `refEF` has both of the two required entitlements</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>refEF.b</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>// valid, because `refEF` has both of the two required entitlements</span></div></div><div><span class="ch-code-line-number">_<!-- -->33</span><div style="display:inline-block;margin-left:16px"><span>refEF.c</span></div></div><br></code></div></div>
<p>Note particularly in this example how the owned value <code>r</code> can access all entitled members on <code>SomeResource</code>;
owned values are not affected by entitled declarations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entitlement-mappings">Entitlement Mappings<a href="#entitlement-mappings" class="hash-link" aria-label="Direct link to Entitlement Mappings" title="Direct link to Entitlement Mappings">â€‹</a></h3>
<p>When objects have fields that are child objects,
it can often be valuable to have different views of that reference depending on the entitlements one has on the reference to the parent object.
Consider the following example:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>entitlement OuterEntitlement</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>entitlement SubEntitlement</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>resource SubResource {</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun foo() { ... }</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>    access(SubEntitlement) fun bar() { ... }</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>resource OuterResource {</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>    access(self) let childResource: @SubResource</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun getPubRef(): &amp;SubResource {</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>        return &amp;self.childResource as &amp;SubResource</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>    access(OuterEntitlement) fun getEntitledRef(): auth(SubEntitlement) &amp;SubResource {</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>        return &amp;self.childResource as auth(SubEntitlement) &amp;SubResource</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>    init(r: @SubResource) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>        self.childResource &lt;- r </span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->23</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>With this pattern, we can store a <code>SubResource</code> on an <code>OuterResource</code> value,
and create different ways to access that nested resource depending on the entitlement one posseses.
Someone with only an unauthorized reference to <code>OuterResource</code> can only call the <code>getPubRef</code> function,
and thus can only get an unauthorized reference to <code>SubResource</code> that lets them call <code>foo</code>.
However, someone with a <code>OuterEntitlement</code>-authorized reference to the <code>OuterResource</code> can call the <code>getEntitledRef</code> function,
giving them a <code>SubEntitlement</code>-authorized reference to <code>SubResource</code> that allows them to call <code>bar</code>.</p>
<p>This pattern is functional, but it is unfortunate that we are forced to &quot;duplicate&quot; the accessors to <code>SubResource</code>,
duplicating the code and storing two functions on the object,
essentially creating two different views to the same object that are stored as different functions.
To avoid necessitating this duplication, we add support to the language for &quot;entitlement mappings&quot;,
a way to declare statically how entitlements are propagated from parents to child objects in a nesting hierarchy.</p>
<p>So, the above example could be equivalently written as:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>entitlement OuterEntitlement</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>entitlement SubEntitlement</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>// specify a mapping for entitlements called `Map`, which defines a function</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>// from an input set of entitlements (called the domain) to an output set (called the range or the image)</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>entitlement mapping Map {</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    OuterEntitlement -&gt; SubEntitlement</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>resource SubResource {</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun foo() { ... }</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    access(SubEntitlement) fun bar() { ... }</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>resource OuterResource {</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    // by referering to `Map` here, we declare that the entitlements we receive when accessing the `childResource` field</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    // on this resource will depend on the entitlements we possess to the resource during the access. </span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    access(Map) let childResource: @SubResource</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    init(r: @SubResource) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>        self.childResource = r</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>// given some value `r` of type `@OuterResource`</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>let pubRef = &amp;r as &amp;OuterResource</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>let pubSubRef = pubRef.childResource // has type `&amp;SubResource`</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>let entitledRef = &amp;r as auth(OuterEntitlement) &amp;OuterResource</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>let entitledSubRef = entitledRef.childResource // `OuterEntitlement` is defined to map to `SubEntitlement`, so this access yields a value of type `auth(SubEntitlement) &amp;SubResource`</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>Entitlement</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>// `r` is an owned value, and is thus considered &quot;fully-entitled&quot; to `OuterResource`,</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>// so this access yields a value authorized to the entire image of `Map`, in this case `SubEntitlement`</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>let alsoEntitledSubRef = r.childResource</span></div></div><br></code></div></div>
<p>Entitlement mappings may be used either in accessor functions (as in the example above), or in fields whose types are
either references, or containers (structs/resources, dictionaries and arrays).
Note that having a reference field will necessarily make the type of the composite non-storage.</p>
<!-- -->
<p>Entitlement mappings need not be 1:1; it is valid to define a mapping where multiple inputs map to the same output, or where one input maps to multiple outputs.</p>
<p>Entitlement mappings preserve the &quot;kind&quot; of the set they are mapping; i.e. mapping an &quot;and&quot; set produces an &quot;and&quot; set, and mapping an &quot;or&quot; set produces an &quot;or&quot; set.
Because &quot;and&quot; and &quot;or&quot; separators cannot be combined in the same set, attempting to map &quot;or&quot;-separated sets through certain complex mappings may result in a type error. For example:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>entitlement mapping M {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  A -&gt; B </span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  A -&gt; C</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  D -&gt; E</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>attempting to map <code>(A | D)</code> through <code>M</code> will fail, since <code>A</code> should map to <code>(B, C)</code> and <code>D</code> should map to <code>E</code>, but these two outputs cannot be combined into a disjunctive set.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-identity-mapping">The <code>Identity</code> Mapping<a href="#the-identity-mapping" class="hash-link" aria-label="Direct link to the-identity-mapping" title="Direct link to the-identity-mapping">â€‹</a></h3>
<p>There is an <code>Identity</code> mapping built-in to Cadence that maps every input to itself as the output.
I.e., any entitlement set passed through the <code>Identity</code> map will come out unchanged in the output.
So, for example, for some resource defined like so:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>entitlement X</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>resource SubResource {</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  // ...</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>resource OuterResource {</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>    access(Identity) let childResource: @SubResource</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>    access(Identity) getChildResource(): auth(Identity) &amp;SubResource {</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>      return &amp;self.childResource</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>    init(r: @SubResource) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>        self.childResource = r</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>Given some reference <code>ref</code> to <code>OuterResource</code> of type <code>auth(X) &amp;OuterResource</code>,
accessing <code>ref.childResource</code> will yield a reference to <code>SubResource</code> of type <code>auth(X) &amp;SubResource</code>.</p>
<p>One important point to note about the <code>Identity</code> mapping, however, is that because its full output range is unknown (and theoretically infinite),
accessing an <code>Identity</code>-mapped field or function with an owned value will yield an empty output set. I.e. calling <code>getChildResource()</code> on an owned
<code>OuterResource</code> value, for example, will produce an unauthorized <code>&amp;SubResource</code> reference.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mapping-composition">Mapping Composition<a href="#mapping-composition" class="hash-link" aria-label="Direct link to Mapping Composition" title="Direct link to Mapping Composition">â€‹</a></h3>
<p>In the definition of an entitlement mapping, it is possible to <code>include</code> the definition of one or more other mappings, to copy over their mapping relations.
For example:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>entitlement mapping M {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  X -&gt; Y </span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  Y -&gt; Z</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>entitlement mapping N {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  E -&gt; F</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>entitlement mapping P {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  include M</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  include N</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  F -&gt; G</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>The entitlement mapping <code>P</code> includes all of the relations defined in <code>M</code> and <code>N</code>, along with the additional relations defined in its own definition.
In general, an <code>include M</code> statement in the definition of an entitlement mapping <code>N</code> is equivalent to simply copy-pasting all the relations
defined in <code>M</code> into <code>N</code>&#x27;s definition; support for <code>include</code> is provided primarily to reduce code-reuse and promote composition.</p>
<p>The <code>Identity</code> mapping can also be included; any mapping <code>M</code> that <code>include</code>s the <code>Identity</code> mapping will map its input set to itself,
along with any additional relations defined in the mapping, or in other included mappings. So, for example:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>entitlement mapping M {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  include Identity</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  X -&gt; Y </span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>The mapping <code>M</code> would map the entitlement set <code>(X)</code> to <code>(X, Y)</code>.</p>
<p>Any <code>include</code> statement that would produce a cyclical mapping will be rejected by the type-checker.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="built-in-mutability-entitlements">Built-in Mutability Entitlements<a href="#built-in-mutability-entitlements" class="hash-link" aria-label="Direct link to Built-in Mutability Entitlements" title="Direct link to Built-in Mutability Entitlements">â€‹</a></h3>
<p>A prominent use-case of entitlements is to control access to object based on mutability.
For example, in a struct/resource/contract, the author would want to control the access to certain fields to be read-only,
and while some fields to be mutable, etc.</p>
<p>In order to support this, Cadence hase built-in set of entitlements that can be used to access control base on mutability.</p>
<ul>
<li><code>Insert</code></li>
<li><code>Remove</code></li>
<li><code>Mutate</code></li>
</ul>
<p>These are primarily used by built-in array and dictionary functions, but are also usable by any user to control access
in their own composite type definitions.</p>
<p>While Cadence does not support entitlement composition or inheritance, the <code>Mutate</code> entitlement is intended to be used
as an equivalent form to the conjunction of <code>{Insert, Remove}</code> entitlements.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/onflow/docs/tree/main/docs/cadence/language/access-control.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-09-05T20:32:17.000Z">Sep 5, 2023</time></b> by <b>Alex</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/next/cadence/language/resources"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Resources</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/next/cadence/language/interfaces"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Interfaces</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#entitlements" class="table-of-contents__link toc-highlight">Entitlements</a><ul><li><a href="#entitlement-mappings" class="table-of-contents__link toc-highlight">Entitlement Mappings</a></li><li><a href="#the-identity-mapping" class="table-of-contents__link toc-highlight">The <code>Identity</code> Mapping</a></li><li><a href="#mapping-composition" class="table-of-contents__link toc-highlight">Mapping Composition</a></li><li><a href="#built-in-mutability-entitlements" class="table-of-contents__link toc-highlight">Built-in Mutability Entitlements</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools">SDK&#x27;s &amp; Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn">Learning Resources</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cadence/intro">Cadence</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/mobile">Mobile</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools/clients/fcl-js">FCL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools/toolchains/flow-js-testing">JS Testing Library</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools/toolchains/flow-cli">CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools/toolchains/emulator">Emulator</a></li><li class="footer__item"><a href="https://github.com/onflow/fcl-dev-wallet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dev Wallet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools/toolchains/vscode-extension">VS Code Extension</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/community">Ecosystem</a></li><li class="footer__item"><a href="https://port.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flow Port<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/onflow/developer-grants" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Grants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flow.com/flow-responsible-disclosure" target="_blank" rel="noopener noreferrer" class="footer__link-item">Responsible Disclosure<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.flowverse.co/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowverse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://academy.ecdao.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Emerald Academy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://floats.city/" target="_blank" rel="noopener noreferrer" class="footer__link-item">FLOATs (Attendance NFTs)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Start Building</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://play.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flow Playground<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/kitty-items">Kitty Items</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cadence/tutorial/first-steps">Cadence Tutorials</a></li><li class="footer__item"><a href="https://open-cadence.onflow.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cadence Cookbook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/core-contracts">Core Contracts &amp; Standards</a></li><li class="footer__item"><a href="https://academy.ecdao.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Emerald DAO Bootcamp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Network</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://status.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Network Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flowscan.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowscan Mainnet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://testnet.flowscan.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowscan Testnet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/nodes/node-operation/past-sporks">Past Sporks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/nodes/node-operation/upcoming-sporks">Upcoming Sporks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/nodes/node-operation">Node Operation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/nodes/node-operation/spork">Spork Information</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/onflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://onflow.org/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OnFlow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flow.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Flow, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.d68ddd12.js"></script>
<script src="/docs/assets/js/main.2dbb1cbb.js"></script>
</body>
</html>